{"version":3,"file":"js/962.51b6b676.js","mappings":"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","sources":["webpack://ukk/./src/views/ProfileView.vue","webpack://ukk/./src/shared/components/CollapsingCard.vue","webpack://ukk/./src/shared/components/CollapsingCard.vue?f37f","webpack://ukk/./src/views/ProfileView.vue?3e49"],"sourcesContent":["<template>\n  <div class=\"profile\">\n    <CollapsingCard\n      showTitle=\"Персонификация\"\n      hiddenTitle=\"Персонификация\"\n      class=\"mb-3\"\n      visible\n    >\n      <div class=\"p-3\">\n        <span>Размер шрифта:</span>\n        <input\n          type=\"number\"\n          :min=\"MIN_FONT_SIZE\"\n          :max=\"MAX_FONT_SIZE\"\n          v-model=\"font\"\n        />\n      </div>\n    </CollapsingCard>\n    <CollapsingCard\n      showTitle=\"Информация о пользователе\"\n      hiddenTitle=\"Информация о пользователе\"\n      visible\n    >\n      <div class=\"p-3\">\n        <div v-if=\"userName\"><span>Пользователь:</span>{{ userName }}</div>\n        <div v-if=\"$store.state.userInfo?.username\">\n          <span>Логин:</span>{{ $store.state.userInfo.username }}\n        </div>\n        <div v-if=\"$store.state.userInfo?.email\">\n          <span>Email:</span>{{ $store.state.userInfo.email }}\n        </div>\n        <div v-if=\"$store.state.userInfo?.employeeID\">\n          <span>Идентификатор:</span>{{ $store.state.userInfo.employeeID }}\n        </div>\n        <div v-if=\"$store.state.userInfo?.title\">\n          <span>Должность:</span>{{ $store.state.userInfo.title }}\n        </div>\n        <div v-if=\"userUnits?.length\">\n          <span>Структурное подразделение:</span>\n          <p v-for=\"(unit, index) in userUnits\" :key=\"index\">- {{ unit }}</p>\n        </div>\n        <div>\n          <span>Токен:</span>\n          {{ $store.state.userInfo?.token ?? \"Отсутствует\" }}\n          <button\n            style=\"padding: 0.1rem 0.4rem; margin-left: 0.2rem\"\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"updateToken\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              class=\"bi bi-arrow-clockwise\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z\"\n              ></path>\n              <path\n                d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466\"\n              ></path>\n            </svg>\n          </button>\n        </div>\n        <div v-if=\"$store.state.userInfo?.groups?.length\">\n          <span>Группы пользователя:</span>\n          <p\n            v-for=\"(group, index) in $store.state.userInfo.groups\"\n            :key=\"index\"\n          >\n            - {{ group }}\n          </p>\n        </div>\n        <div v-else><span>Группы пользователя:</span> Отсутствуют</div>\n      </div>\n    </CollapsingCard>\n  </div>\n</template>\n\n<script>\nimport { request } from \"@/http\";\nimport { mapGetters, mapMutations } from \"vuex\";\nimport CollapsingCard from \"@/shared/components/CollapsingCard.vue\";\nexport default {\n  name: \"ProfileView\",\n  components: { CollapsingCard },\n  setup() {\n    const MIN_FONT_SIZE = 10;\n    const MAX_FONT_SIZE = 22;\n    return { MIN_FONT_SIZE, MAX_FONT_SIZE };\n  },\n  computed: {\n    ...mapGetters([\"userName\", \"userUnits\", \"profile\"]),\n    font: {\n      get() {\n        return (this.profile?.fontSize ?? \"16px\").replace(\"px\", \"\") - 0;\n      },\n      set(value) {\n        value =\n          (value < this.MIN_FONT_SIZE\n            ? this.MIN_FONT_SIZE\n            : value > this.MAX_FONT_SIZE\n            ? this.MAX_FONT_SIZE\n            : value) + \"px\";\n        this.setFontSize(value);\n      },\n    },\n  },\n  methods: {\n    ...mapMutations([\"setFontSize\"]),\n    async updateToken() {\n      await request(\n        this.$store.state.userInfo?.url + \"token/\",\n        \"POST\",\n        \"\",\n        true\n      ).then((resp) => {\n        if (resp.isOk)\n          this.$store.commit(\"updateUserInfo\", {\n            ...this.$store.state.userInfo,\n            ...resp.data,\n          });\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.profile {\n  padding: var(--body-padding-top) var(--body-padding-side) 0\n    var(--body-padding-side);\n  .card-body {\n    div {\n      padding: 0.2rem;\n      span {\n        font-weight: 600;\n        margin-right: 0.2rem;\n      }\n      p {\n        margin: 0;\n        margin-left: 2rem;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"card mb-3\">\n    <div\n      :class=\"computedHeaderClasses\"\n      :style=\"`${headerColor};`\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      :data-bs-target=\"`#card-${postfix}`\"\n      :aria-controls=\"`card-${postfix}`\"\n      :aria-expanded=\"this.visible\"\n      ref=\"cardHeader\"\n      @click=\"onToggle\"\n    >\n      {{ isExpanded ? showTitle : hiddenTitle }}\n    </div>\n    <div :id=\"`card-${postfix}`\" :class=\"computedBodyClasses\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CollapsingCard\",\n  props: {\n    visible: Boolean,\n    showTitle: String,\n    hiddenTitle: String,\n    center: Boolean,\n    headerColor: String,\n  },\n  data() {\n    return {\n      isExpanded: this.visible,\n      postfix: Math.random().toString(36).substring(7),\n    };\n  },\n  computed: {\n    computedHeaderClasses() {\n      return [\n        \"p-2\",\n        \"card-header\",\n        \"text-center\",\n        this.isExpanded ? \"\" : \"collapsed\",\n        this.headerColor ? \"text-white\" : \"\",\n      ];\n    },\n    computedBodyClasses() {\n      let classes = [\"card-body\", \"collapse\"];\n      if (this.isExpanded) {\n        classes.push(\"show\");\n        if (this.center) {\n          classes.push(\n            \"d-flex\",\n            \"justify-content-center\",\n            \"align-items-center\",\n            \"text-center\"\n          );\n        }\n      }\n      return classes;\n    },\n  },\n  methods: {\n    onToggle() {\n      setTimeout(() => {\n        this.isExpanded = this.$refs.cardHeader.ariaExpanded === \"true\";\n      }, 150);\n    },\n  },\n};\n</script>\n<style lang=\"scss\"></style>\n","import { render } from \"./CollapsingCard.vue?vue&type=template&id=7c3c7a30\"\nimport script from \"./CollapsingCard.vue?vue&type=script&lang=js\"\nexport * from \"./CollapsingCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProfileView.vue?vue&type=template&id=0215535f\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=0215535f&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","xmlns","width","height","fill","viewBox","d","_hoisted_19","_createElementBlock","_hoisted_1","_createVNode","_component_CollapsingCard","showTitle","hiddenTitle","visible","_hoisted_2","_hoisted_3","type","min","$setup","MIN_FONT_SIZE","max","MAX_FONT_SIZE","$options","font","$event","_hoisted_5","_ctx","userName","_hoisted_6","_hoisted_7","$store","state","userInfo","username","_hoisted_8","_hoisted_9","email","_hoisted_10","_hoisted_11","employeeID","_hoisted_12","_hoisted_13","title","_hoisted_14","_hoisted_15","userUnits","length","_hoisted_16","_hoisted_17","_Fragment","_renderList","unit","index","key","_toDisplayString","_hoisted_18","token","style","onClick","_cache","args","updateToken","groups","_hoisted_21","_hoisted_22","group","_hoisted_23","_hoisted_24","_normalizeClass","computedHeaderClasses","_normalizeStyle","$props","headerColor","$data","postfix","ref","onToggle","isExpanded","id","computedBodyClasses","_renderSlot","$slots","name","props","Boolean","String","center","data","this","Math","random","toString","substring","computed","classes","push","methods","setTimeout","$refs","cardHeader","ariaExpanded","__exports__","components","CollapsingCard","setup","mapGetters","get","profile","fontSize","replace","set","value","setFontSize","mapMutations","request","url","then","resp","isOk","commit","render"],"sourceRoot":""}