"use strict";(self["webpackChunkukk"]=self["webpackChunkukk"]||[]).push([[962],{3962:function(e,t,s){s.r(t),s.d(t,{default:function(){return X}});var n=s(3396),a=s(9242),i=s(7139);const r={class:"profile"},o={class:"p-3"},l=(0,n._)("span",null,"Размер шрифта:",-1),d=["min","max"],u={class:"p-3"},p={key:0},c=(0,n._)("span",null,"Пользователь:",-1),h={key:1},g=(0,n._)("span",null,"Логин:",-1),w={key:2},f=(0,n._)("span",null,"Email:",-1),m={key:3},k=(0,n._)("span",null,"Идентификатор:",-1),_={key:4},I=(0,n._)("span",null,"Должность:",-1),v={key:5},y=(0,n._)("span",null,"Структурное подразделение:",-1),T=(0,n._)("span",null,"Токен:",-1),x=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"}),(0,n._)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"})],-1),b=[x],C={key:6},$=(0,n._)("span",null,"Группы пользователя:",-1),S={key:7},D=(0,n._)("span",null,"Группы пользователя:",-1);function E(e,t,s,x,E,N){const z=(0,n.up)("CollapsingCard");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(z,{showTitle:"Персонификация",hiddenTitle:"Персонификация",class:"mb-3",visible:""},{default:(0,n.w5)((()=>[(0,n._)("div",o,[l,(0,n.wy)((0,n._)("input",{type:"number",min:x.MIN_FONT_SIZE,max:x.MAX_FONT_SIZE,"onUpdate:modelValue":t[0]||(t[0]=e=>N.font=e)},null,8,d),[[a.nr,N.font]])])])),_:1}),(0,n.Wm)(z,{showTitle:"Информация о пользователе",hiddenTitle:"Информация о пользователе",visible:""},{default:(0,n.w5)((()=>[(0,n._)("div",u,[e.userName?((0,n.wg)(),(0,n.iD)("div",p,[c,(0,n.Uk)((0,i.zw)(e.userName),1)])):(0,n.kq)("",!0),e.$store.state.userInfo?.username?((0,n.wg)(),(0,n.iD)("div",h,[g,(0,n.Uk)((0,i.zw)(e.$store.state.userInfo.username),1)])):(0,n.kq)("",!0),e.$store.state.userInfo?.email?((0,n.wg)(),(0,n.iD)("div",w,[f,(0,n.Uk)((0,i.zw)(e.$store.state.userInfo.email),1)])):(0,n.kq)("",!0),e.$store.state.userInfo?.employeeID?((0,n.wg)(),(0,n.iD)("div",m,[k,(0,n.Uk)((0,i.zw)(e.$store.state.userInfo.employeeID),1)])):(0,n.kq)("",!0),e.$store.state.userInfo?.title?((0,n.wg)(),(0,n.iD)("div",_,[I,(0,n.Uk)((0,i.zw)(e.$store.state.userInfo.title),1)])):(0,n.kq)("",!0),e.userUnits?.length?((0,n.wg)(),(0,n.iD)("div",v,[y,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.userUnits,((e,t)=>((0,n.wg)(),(0,n.iD)("p",{key:t},"- "+(0,i.zw)(e),1)))),128))])):(0,n.kq)("",!0),(0,n._)("div",null,[T,(0,n.Uk)(" "+(0,i.zw)(e.$store.state.userInfo?.token??"Отсутствует")+" ",1),(0,n._)("button",{style:{padding:"0.1rem 0.4rem","margin-left":"0.2rem"},type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>N.updateToken&&N.updateToken(...e))},b)]),e.$store.state.userInfo?.groups?.length?((0,n.wg)(),(0,n.iD)("div",C,[$,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.$store.state.userInfo.groups,((e,t)=>((0,n.wg)(),(0,n.iD)("p",{key:t}," - "+(0,i.zw)(e),1)))),128))])):((0,n.wg)(),(0,n.iD)("div",S,[D,(0,n.Uk)(" Отсутствуют")]))])])),_:1})])}var N=s(5603),z=s(65);const U={class:"card mb-3"},M=["data-bs-target","aria-controls","aria-expanded"],O=["id"];function F(e,t,s,a,r,o){return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",{class:(0,i.C_)(o.computedHeaderClasses),style:(0,i.j5)(`${s.headerColor};`),type:"button","data-bs-toggle":"collapse","data-bs-target":`#card-${r.postfix}`,"aria-controls":`card-${r.postfix}`,"aria-expanded":this.visible,ref:"cardHeader",onClick:t[0]||(t[0]=(...e)=>o.onToggle&&o.onToggle(...e))},(0,i.zw)(r.isExpanded?s.showTitle:s.hiddenTitle),15,M),(0,n._)("div",{id:`card-${r.postfix}`,class:(0,i.C_)(o.computedBodyClasses)},[(0,n.WI)(e.$slots,"default")],10,O)])}s(560);var Z={name:"CollapsingCard",props:{visible:Boolean,showTitle:String,hiddenTitle:String,center:Boolean,headerColor:String},data(){return{isExpanded:this.visible,postfix:Math.random().toString(36).substring(7)}},computed:{computedHeaderClasses(){return["p-2","card-header","text-center",this.isExpanded?"":"collapsed",this.headerColor?"text-white":""]},computedBodyClasses(){let e=["card-body","collapse"];return this.isExpanded&&(e.push("show"),this.center&&e.push("d-flex","justify-content-center","align-items-center","text-center")),e}},methods:{onToggle(){setTimeout((()=>{this.isExpanded="true"===this.$refs.cardHeader.ariaExpanded}),150)}}},q=s(89);const A=(0,q.Z)(Z,[["render",F]]);var H=A,B={name:"ProfileView",components:{CollapsingCard:H},setup(){const e=10,t=22;return{MIN_FONT_SIZE:e,MAX_FONT_SIZE:t}},computed:{...(0,z.Se)(["userName","userUnits","profile"]),font:{get(){return(this.profile?.fontSize??"16px").replace("px","")-0},set(e){e=(e<this.MIN_FONT_SIZE?this.MIN_FONT_SIZE:e>this.MAX_FONT_SIZE?this.MAX_FONT_SIZE:e)+"px",this.setFontSize(e)}}},methods:{...(0,z.OI)(["setFontSize"]),async updateToken(){await(0,N.W)(this.$store.state.userInfo?.url+"token/","POST","",!0).then((e=>{e.isOk&&this.$store.commit("updateUserInfo",{...this.$store.state.userInfo,...e.data})}))}}};const W=(0,q.Z)(B,[["render",E]]);var X=W}}]);
//# sourceMappingURL=962.51b6b676.js.map